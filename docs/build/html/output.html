<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Output Specifications &mdash; Chat Analyzer 1.0.1b1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Command Line Usage" href="cli.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Chat Analyzer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Output Specifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#common-fields"><strong>Common fields</strong>:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chat-analytics-data">Chat Analytics Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-data">Sample Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#highlight-data">Highlight Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#twitch-specific-fields"><strong>Twitch-specific fields</strong>:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chat-analytics-data-twitch">Chat Analytics Data (Twitch)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-data-twitch">Sample Data (Twitch)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#youtube-specific-fields"><strong>YouTube-specific fields</strong>:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chat-analytics-data-youtube">Chat Analytics Data (YouTube)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-data-youtube">Sample Data (YouTube)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-json-output">Example JSON output:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Chat Analyzer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Output Specifications</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/output.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="output-specifications">
<h1>Output Specifications<a class="headerlink" href="#output-specifications" title="Permalink to this headline"></a></h1>
<p>All of the analytical data is output in a single .json file. Certain datapoints exist regardless of the platform the VOD is from, some datapoints are specific to the platform.</p>
<section id="common-fields">
<h2><strong>Common fields</strong>:<a class="headerlink" href="#common-fields" title="Permalink to this headline"></a></h2>
<section id="chat-analytics-data">
<h3>Chat Analytics Data<a class="headerlink" href="#chat-analytics-data" title="Permalink to this headline"></a></h3>
<p>The Chat Analytics object is directly transformed into JSON data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">ChatAnalytics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">duration:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">interval:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">description:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">program_version:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">platform:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">interval_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">mediaTitle:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Title'</span></em>, <em class="sig-param"><span class="pre">mediaSource:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Source'</span></em>, <em class="sig-param"><span class="pre">samples:</span> <span class="pre">List[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">totalActivity:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalChatMessages:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalUniqueUsers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgActivityPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgChatMessagesPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgUniqueUsersPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights:</span> <span class="pre">List[chat_analyzer.dataformat.Highlight]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">highlights_duration:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights_duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">highlight_percentile:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlight_metric:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">spikes:</span> <span class="pre">List[chat_analyzer.dataformat.Spike]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_overallUserChats:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_currentSample:</span> <span class="pre">Optional[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Class that contains the results of the chat data analysis/processing.</p>
<p>An instance of a subclass is created and then modified throughout 
the analysis process. After the processing of the data is complete,
the object will contain all relevant results we are looking for.</p>
<p>This class cannot be directly instantiated, see the subclasses
YoutubeChatAnalytics &amp; TwitchChatAnalytics. YT and Twitch
chats report/record data differently and contain site-specific
events, so we centralize common data/fxnality and separate
specifics into subclasses.</p>
<p>The object can then be converted to JSON/printed/manipulated as
desired to format/output the results as necessary.</p>
<p>—</p>
<p><strong>[Defined when class Initialized]</strong>:</p>
<dl class="simple">
<dt>duration: float</dt><dd><p>The total duration (in seconds) of the associated video/media. Message times correspond to the video times.</p>
</dd>
<dt>interval: int</dt><dd><p>The time interval (in seconds) at which to compress datapoints into samples. i.e. Duration of the samples. The smaller the interval, the more 
granular the analytics are. At interval=5, each sample contains 5 seconds of cumulative data.
<em>(With the exception of the last sample, which may be shorter than the interval.)</em> 
This is b/c media duration is not necessarily divisible by the interval.
#(samples in raw_data) is about (video duration/interval) (+1 if necessary to encompass remaining non-divisible data at end of data).</p>
</dd>
<dt>description: str</dt><dd><p>A description included to help distinguish it from other analytical data.</p>
</dd>
<dt>program_version: str</dt><dd><p>The version of the chat analytics program that was used to generate the data. Helps identify outdated/version-specific data formats.</p>
</dd>
<dt>platform: str</dt><dd><p>Used to store the platform the data came from: ‘www.youtube.com’, ‘www.twitch.tv’, ‘youtu.be’…
While it technically can be determined by the type of subclass, this makes for easier conversion to JSON/output</p>
</dd>
</dl>
<p><strong>[Automatically re-defined on post-init]</strong>:</p>
<dl class="simple">
<dt>duration_text: str</dt><dd><p>String representation of the media duration time.</p>
</dd>
<dt>interval_text: str</dt><dd><p>String representation of the interval time.</p>
</dd>
</dl>
<p><strong>[Defined w/ default and modified DURING analysis]</strong>:</p>
<dl class="simple">
<dt>mediaTitle: str</dt><dd><p>The title of the media associated with the chatlog.</p>
</dd>
<dt>mediaSource: str</dt><dd><p>The link to the media associated with the chatlog (url that it was origianlly downloaded from or filepath of a chatfile).</p>
</dd>
<dt>samples: List[Sample]</dt><dd><p>An array of sequential samples, each corresponding to data about a section of chat of ‘interval’ seconds long.
Each sample has specific data corresponding to a time interval of the vid. See the ‘Sample’ class</p>
</dd>
<dt>totalActivity: int</dt><dd><p>The total number of messages/things (of any type!) that appeared in chat. (Sum of intervalActivity from all samples) 
Includes messages,notifications,subscriptions, superchats, … <em>anything</em> that appeared in chat</p>
</dd>
<dt>totalChatMessages: int</dt><dd><p>The total number of chats sent by human (non-system) users (what is traditionally thought of as a chat)
NOTE: Difficult to discern bots from humans other than just creating a known list of popular bots and blacklisting, 
because not all sites (YT/Twitch) provide information on whether chat was sent by a registered bot or not.</p>
</dd>
<dt>highlight_percentile: float </dt><dd><p>The cutoff percentile that samples must meet to be considered a highlight</p>
</dd>
<dt>highlight_metric: str</dt><dd><p>The metric to use for engagement analysis to build highlights. NOTE: must be converted into actual Sample field name before use.</p>
</dd>
</dl>
<p><strong>[Defined w/ default and modified AFTER analysis]</strong>:</p>
<dl class="simple">
<dt>totalUniqueUsers: int</dt><dd><p>The total number of unique users that sent a chat message (human users that sent at least one traditional chat)</p>
</dd>
<dt>overallAvgActivityPerSecond: float</dt><dd><p>The average activity per second across the whole chatlog. (totalActivity/totalDuration)</p>
</dd>
<dt>overallAvgChatMessagesPerSecond: float</dt><dd><p>The average number of chat messages per second across the whole chatlog. (totalChatMessages/totalDuration)</p>
</dd>
<dt>overallAvgUniqueUsersPerSecond: float</dt><dd><p>The average number of unique users chatting per second.</p>
</dd>
<dt>highlights: List[Highlight] </dt><dd><p>A list of the high engagement sections of the chatlog.</p>
</dd>
<dt>highlights_duration: float</dt><dd><p>The cumulative duration of the highlights (in seconds)</p>
</dd>
<dt>highlights_duration_text: str</dt><dd><p>The cumulative duration of the highlights represented in text format (i.e. hh:mm:ss)</p>
</dd>
<dt>spikes: List[Spike]</dt><dd><p>Not yet implemented TODO
A list of the calculated spikes in the chatlog. May contain spikes of different types, identifiable by the spike’s type field.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.chatlog_post_process">
<span class="sig-name descname"><span class="pre">chatlog_post_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="apidoc/chat_analyzer.html#chat_analyzer.dataformat.ProcessSettings" title="chat_analyzer.dataformat.ProcessSettings"><span class="pre">chat_analyzer.dataformat.ProcessSettings</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.chatlog_post_process" title="Permalink to this definition"></a></dt>
<dd><p>After we have finished iterating through the chatlog and constructing all of the samples,
we call chatlog_post_process() to process the cumulative data points (so we don’t have to do this every time we add a sample).</p>
<p>This step is sometimes referred to as “analysis”.</p>
<p>Also removes the internal fields that don’t need to be output in the JSON object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>settings</strong> (<a class="reference internal" href="apidoc/chat_analyzer.html#chat_analyzer.dataformat.ProcessSettings" title="chat_analyzer.dataformat.ProcessSettings"><em>ProcessSettings</em></a>) – Utility class for passing information from the analyzer to the chatlog processor and post-processor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.create_new_sample">
<span class="sig-name descname"><span class="pre">create_new_sample</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.create_new_sample" title="Permalink to this definition"></a></dt>
<dd><p>Post-processes the previous sample, then appends &amp; creates a new sample
following the previous sample sequentially. If a previous sample doesn’t exist, 
creates the first sample.</p>
<p>NOTE: If there there are only 2 chats, one at time 0:03, and the other at 5:09:12,
there are still a lot of empty samples in between (because we still want to graph/track the silence times with temporal stability)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.get_highlights">
<span class="sig-name descname"><span class="pre">get_highlights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">highlight_metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highlight_percentile</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.get_highlights" title="Permalink to this definition"></a></dt>
<dd><p>Highlights reference a contiguous period of time where the provided metric remains above the percentile threshold.
Find and return a list of highlights referencing the start and end times of samples whose highlight_metric is in
the highlight_percentile for contiguous period of time of the referenced samples.</p>
<p>A highlight may reference more than one sample if contiguous samples meet the percentile cutoff.</p>
<p>Samples in the top ‘percentile’% of the selected engagement metric will be considered high-engagement samples and included in the highlights output list. 
The larger the percentile, the greater the metric requirement before being reported. If ‘engagement-percentile’=93.0, any sample in the 93rd percentile (top 7.0%%) of the selected metric will be considered an engagement highlight.</p>
<p>These high-engagement portions of the chatlog are stored as highlights, and may last for multiple samples.</p>
<p>This method should only be called after the averages have been calculated,
ensuring accurate results when determining periods of high engagement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>highlight_metric</strong> – The metric samples are compared to determine if they are high-engagement samples. NOTE: Internally converted to the actual field name of a sample field.</p></li>
<li><p><strong>highlight_percentile</strong> – The cutoff percentile that the samples must meet to be included in a highlight</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of highlights referencing samples that met the percentile cutoff requirements for the provided metric</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#chat_analyzer.dataformat.Highlight" title="chat_analyzer.dataformat.Highlight">Highlight</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.get_spikes">
<span class="sig-name descname"><span class="pre">get_spikes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spike_sensitivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spike_metric</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.get_spikes" title="Permalink to this definition"></a></dt>
<dd><p>A spike is a point in the chatlog where from one sample to the next, there is a sharp increase in the provided metric.</p>
<p>…? Are spikes sustained or..?
?:
A spike is a point in the chatlog where the activity is significantly different from the average activity.
Activity is significantly different if it is &gt; avg*SPIKE_MULT_THRESHOLD.
We detect a spike if the high activity level is maintained for at least SPIKE_SUSTAIN_REQUIREMENT # of samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.print_process_progress">
<span class="sig-name descname"><span class="pre">print_process_progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finished</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.print_process_progress" title="Permalink to this definition"></a></dt>
<dd><p>Prints progress of the chat download/process to the console.</p>
<p>If finished is true, normal printing is skipped and the last bar of progress is printed.
This is important because we print progress every UPDATE_PROGRESS_INTERVAL messages, and the total number of 
messages is not usually divisible by this. We therefore have to slightly change the approach to printing progress for this special case.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.process_chatlog">
<span class="sig-name descname"><span class="pre">process_chatlog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chatlog</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">chat_analyzer.chat_downloader.sites.common.Chat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="apidoc/chat_analyzer.html#chat_analyzer.dataformat.ProcessSettings" title="chat_analyzer.dataformat.ProcessSettings"><span class="pre">chat_analyzer.dataformat.ProcessSettings</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.process_chatlog" title="Permalink to this definition"></a></dt>
<dd><p>Iterates through the whole chatlog and calculates the analytical data (Modifies and stores in a ChatAnalytics object).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chatlog</strong> (<em>chat_downloader.sites.common.Chat</em>) – The chatlog we have downloaded</p></li>
<li><p><strong>source</strong> (<em>str</em>) – The source of the media associated w the chatlog. URL of the media we have downloaded the log from, or a filepath</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="apidoc/chat_analyzer.html#chat_analyzer.dataformat.ProcessSettings" title="chat_analyzer.dataformat.ProcessSettings"><em>ProcessSettings</em></a>) – Utility class for passing information from the analyzer to the chatlog processor and post-processor</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.ChatAnalytics.process_message">
<span class="sig-name descname"><span class="pre">process_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.ChatAnalytics.process_message" title="Permalink to this definition"></a></dt>
<dd><p>Given a msg object from chat, update appropriate statistics based on the chat</p>
</dd></dl>

</dd></dl>

</section>
<section id="sample-data">
<h3>Sample Data<a class="headerlink" href="#sample-data" title="Permalink to this headline"></a></h3>
<p>The main JSON data contains a <code class="docutils literal notranslate"><span class="pre">sample</span></code> field comprised of a list of Sample objects.</p>
<dl class="py class">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.Sample">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">Sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">startTime:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">endTime:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">sampleDuration:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">-1</span></em>, <em class="sig-param"><span class="pre">startTime_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">endTime_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">activity:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">chatMessages:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">firstTimeChatters:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">uniqueUsers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">avgActivityPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">avgChatMessagesPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">avgUniqueUsersPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">_userChats:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.Sample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that contains data of a specific time interval of the chat.
Messages will be included in a sample if they are contained within [startTime, endTime)</p>
<p>—</p>
<p><strong>[Defined when class Initialized]</strong>:</p>
<dl class="simple">
<dt>startTime: float</dt><dd><p>The start time (inclusive) (in seconds) corresponding to a sample.</p>
</dd>
<dt>endTime: float</dt><dd><p>The end time (exclusive) (in seconds) corresponding to a sample.</p>
</dd>
</dl>
<p><strong>[Automatically Defined on init]</strong>:</p>
<dl class="simple">
<dt>startTime_text: str</dt><dd><p>The start time represented in text format (i.e. hh:mm:ss)</p>
</dd>
<dt>endTime_text: str</dt><dd><p>The end time represented in text format (i.e. hh:mm:ss)</p>
</dd>
<dt>sampleDuration: float</dt><dd><p>The duration (in seconds) of the sample (end-start)
NOTE: Should be == to the selected interval in all except the last sample if the total duration of the chat is not divisible by the interval</p>
</dd>
</dl>
<p><strong>[Defined w/ default and modified DURING analysis of sample]</strong>:</p>
<dl class="simple">
<dt>activity: int</dt><dd><p>The total number of messages/things (of any type!) that appeared in chat within the start/endTime of this sample.
Includes messages,notifications,subscriptions, superchats, … <em>anything</em> that appeared in chat</p>
</dd>
<dt>chatMessages: int</dt><dd><p>The total number of chats sent by human (non-system) users (what is traditionally thought of as a chat)
NOTE: Difficult to discern bots from humans other than just creating a known list of popular bots and blacklisting, 
because not all sites (YT/Twitch) provide information on whether chat was sent by a registered bot or not.</p>
</dd>
<dt>firstTimeChatters: int</dt><dd><p>The total number of users who sent their first message of the whole stream during this sample interval</p>
</dd>
</dl>
<p><strong>[Defined w/ default and modified AFTER analysis of sample]</strong>:</p>
<dl class="simple">
<dt>uniqueUsers: int</dt><dd><p>The total number of unique users that sent a chat message across this sample interval (len(self._userChats))</p>
</dd>
<dt>avgActivityPerSecond: float</dt><dd><p>The average activity per second across this sample interval. (activity/sampleDuration)</p>
</dd>
<dt>avgChatMessagesPerSecond: float</dt><dd><p>The average number of chat messages per second across this sample interval. (totalChatMessages/sampleDuration)</p>
</dd>
<dt>avgUniqueUsersPerSecond: float</dt><dd><p>The average number of unique users that sent a chat across this sample interval. (uniqueUsers/sampleDuration)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.Sample.sample_post_process">
<span class="sig-name descname"><span class="pre">sample_post_process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.Sample.sample_post_process" title="Permalink to this definition"></a></dt>
<dd><p>After we have finished adding messages to a particular sample (moving on to the next sample),
we call sample_post_process() to process the cumulative data points (so we don’t have to do this every time we add a message)</p>
<p>Also removes the internal fields that don’t need to be output in the JSON object.</p>
</dd></dl>

</dd></dl>

</section>
<section id="highlight-data">
<h3>Highlight Data<a class="headerlink" href="#highlight-data" title="Permalink to this headline"></a></h3>
<p>The main JSON data contains a <code class="docutils literal notranslate"><span class="pre">highlights</span></code> field comprised of a lsit of Highlight objects.
Currently, there are no platform-specific fields corresponding to Highlights (i.e. highlight
objects look the same for all platforms).</p>
<dl class="py class">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.Highlight">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">Highlight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">startTime</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endTime</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.Highlight" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="apidoc/chat_analyzer.html#chat_analyzer.dataformat.Section" title="chat_analyzer.dataformat.Section"><code class="xref py py-class docutils literal notranslate"><span class="pre">chat_analyzer.dataformat.Section</span></code></a></p>
<p>Highlights reference a contiguous period of time where the provided metric remains above the percentile threshold.</p>
<p>—</p>
<dl class="simple">
<dt>type: str</dt><dd><p>The engagement metric. i.e. “avgActivityPerSecond”, “avgChatMessagesPerSecond”, “avgUniqueUsersPerSecond”, etc.
NOTE: It is stored as its converted value (the name of the actual field), NOT the metric str the user provided in the CLI.</p>
</dd>
<dt>peak: float</dt><dd><p>The maximum value of the engagement metric throughout the whole Highlight (among the samples in the Highlight).</p>
</dd>
<dt>avg: float</dt><dd><p>The average value of the engagement metric throughout the whole Highlight (among the samples in the Highlight).</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="twitch-specific-fields">
<h2><strong>Twitch-specific fields</strong>:<a class="headerlink" href="#twitch-specific-fields" title="Permalink to this headline"></a></h2>
<section id="chat-analytics-data-twitch">
<h3>Chat Analytics Data (Twitch)<a class="headerlink" href="#chat-analytics-data-twitch" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.TwitchChatAnalytics">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">TwitchChatAnalytics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">duration:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">interval:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">description:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">program_version:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">platform:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">interval_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">mediaTitle:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Title'</span></em>, <em class="sig-param"><span class="pre">mediaSource:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Source'</span></em>, <em class="sig-param"><span class="pre">samples:</span> <span class="pre">List[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">totalActivity:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalChatMessages:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalUniqueUsers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgActivityPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgChatMessagesPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgUniqueUsersPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights:</span> <span class="pre">List[chat_analyzer.dataformat.Highlight]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">highlights_duration:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights_duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">highlight_percentile:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlight_metric:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">spikes:</span> <span class="pre">List[chat_analyzer.dataformat.Spike]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_overallUserChats:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_currentSample:</span> <span class="pre">Optional[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">totalSubscriptions:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalGiftSubscriptions:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalUpgradeSubscriptions:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.TwitchChatAnalytics" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#chat_analyzer.dataformat.ChatAnalytics" title="chat_analyzer.dataformat.ChatAnalytics"><code class="xref py py-class docutils literal notranslate"><span class="pre">chat_analyzer.dataformat.ChatAnalytics</span></code></a></p>
<p>Extension of the ChatAnalytics class, meant to contain data that all chats have
and data specific to Twitch chats.</p>
<p>NOTE: Most twitch-specific attributes don’t make a lot of sense to continously report a per-second value,
so we don’t!</p>
<p>—</p>
<p>(See ChatAnalytics class for common fields)</p>
<p><strong>[Defined w/ default and modified DURING analysis]</strong>:</p>
<dl class="simple">
<dt>totalSubscriptions: int</dt><dd><p>The total number of subscriptions that appeared in the chat (which people purchased themselves).</p>
</dd>
<dt>totalGiftSubscriptions: int</dt><dd><p>The total number of gift subscriptions that appeared in the chat.</p>
</dd>
<dt>totalUpgradeSubscriptions: int</dt><dd><p>The total number of upgraded subscriptions that appeared in the chat.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.TwitchChatAnalytics.chatlog_post_process">
<span class="sig-name descname"><span class="pre">chatlog_post_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.TwitchChatAnalytics.chatlog_post_process" title="Permalink to this definition"></a></dt>
<dd><p>After we have finished iterating through the chatlog and constructing all of the samples,
we call chatlog_post_process() to process the cumulative data points (so we don’t have to do this every time we add a sample).</p>
<p>This step is sometimes referred to as “analysis”.</p>
<p>Also removes the internal fields that don’t need to be output in the JSON object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>settings</strong> (<a class="reference internal" href="apidoc/chat_analyzer.html#chat_analyzer.dataformat.ProcessSettings" title="chat_analyzer.dataformat.ProcessSettings"><em>ProcessSettings</em></a>) – Utility class for passing information from the analyzer to the chatlog processor and post-processor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.TwitchChatAnalytics.process_message">
<span class="sig-name descname"><span class="pre">process_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.TwitchChatAnalytics.process_message" title="Permalink to this definition"></a></dt>
<dd><p>Given a msg object from chat, update common fields and twitch-specific fields</p>
</dd></dl>

</dd></dl>

</section>
<section id="sample-data-twitch">
<h3>Sample Data (Twitch)<a class="headerlink" href="#sample-data-twitch" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.TwitchSample">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">TwitchSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">startTime:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">endTime:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">sampleDuration:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">-1</span></em>, <em class="sig-param"><span class="pre">startTime_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">endTime_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">activity:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">chatMessages:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">firstTimeChatters:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">uniqueUsers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">avgActivityPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">avgChatMessagesPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">avgUniqueUsersPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">_userChats:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">subscriptions:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">giftSubscriptions:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">upgradeSubscriptions:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.TwitchSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#chat_analyzer.dataformat.Sample" title="chat_analyzer.dataformat.Sample"><code class="xref py py-class docutils literal notranslate"><span class="pre">chat_analyzer.dataformat.Sample</span></code></a></p>
<p>Class that contains data specific to Twitch of a specific time interval of the chat.</p>
<p>—</p>
<p><strong>[Defined w/ default and modified DURING analysis of sample]</strong>:</p>
<dl class="simple">
<dt>subscriptions: int</dt><dd><p>The total number of subscriptions (that people purhcased themselves) that appeared in chat within the start/endTime of this sample.</p>
</dd>
<dt>giftSubscriptions: int</dt><dd><p>The total number of gift subscriptions that appeared in chat within the start/endTime of this sample.</p>
</dd>
<dt>upgradeSubscriptions: int</dt><dd><p>The total number of upgraded subscriptions that appeared in chat within the start/endTime of this sample.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="youtube-specific-fields">
<h2><strong>YouTube-specific fields</strong>:<a class="headerlink" href="#youtube-specific-fields" title="Permalink to this headline"></a></h2>
<section id="chat-analytics-data-youtube">
<h3>Chat Analytics Data (YouTube)<a class="headerlink" href="#chat-analytics-data-youtube" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.YoutubeChatAnalytics">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">YoutubeChatAnalytics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">duration:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">interval:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">description:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">program_version:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">platform:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">interval_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">mediaTitle:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Title'</span></em>, <em class="sig-param"><span class="pre">mediaSource:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Source'</span></em>, <em class="sig-param"><span class="pre">samples:</span> <span class="pre">List[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">totalActivity:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalChatMessages:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalUniqueUsers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgActivityPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgChatMessagesPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgUniqueUsersPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights:</span> <span class="pre">List[chat_analyzer.dataformat.Highlight]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">highlights_duration:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights_duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">highlight_percentile:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlight_metric:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">spikes:</span> <span class="pre">List[chat_analyzer.dataformat.Spike]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_overallUserChats:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_currentSample:</span> <span class="pre">Optional[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">totalSuperchats:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalMemberships:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.YoutubeChatAnalytics" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#chat_analyzer.dataformat.ChatAnalytics" title="chat_analyzer.dataformat.ChatAnalytics"><code class="xref py py-class docutils literal notranslate"><span class="pre">chat_analyzer.dataformat.ChatAnalytics</span></code></a></p>
<p>Extension of the ChatAnalytics class, meant to contain data that all chats have
and data specific to YouTube chats.</p>
<p>NOTE: Most youtube-specific attributes don’t make a lot of sense to continously report a per-second value,
so we don’t!</p>
<p>—</p>
<p>(See ChatAnalytics class for common fields and descriptions)</p>
<p><strong>[Defined w/ default and modified DURING analysis]</strong>:</p>
<dl class="simple">
<dt>totalSuperchats: int</dt><dd><p>The total number of superchats (regular/ticker) that appeared in the chat.
NOTE: A creator doesn’t necessarily care what form a superchat takes, so we just combine regular and ticker superchats</p>
</dd>
<dt>totalMemberships: int</dt><dd><p>The total number of memberships that appeared in the chat.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="chat_analyzer.dataformat.YoutubeChatAnalytics.process_message">
<span class="sig-name descname"><span class="pre">process_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chat_analyzer.dataformat.YoutubeChatAnalytics.process_message" title="Permalink to this definition"></a></dt>
<dd><p>Given a msg object from chat, update common fields and youtube-specific fields</p>
</dd></dl>

</dd></dl>

</section>
<section id="sample-data-youtube">
<h3>Sample Data (YouTube)<a class="headerlink" href="#sample-data-youtube" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chat_analyzer.dataformat.</span></span><span class="sig-name descname"><span class="pre">YoutubeChatAnalytics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">duration:</span> <span class="pre">float</span></em>, <em class="sig-param"><span class="pre">interval:</span> <span class="pre">int</span></em>, <em class="sig-param"><span class="pre">description:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">program_version:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">platform:</span> <span class="pre">str</span></em>, <em class="sig-param"><span class="pre">duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">interval_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">mediaTitle:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Title'</span></em>, <em class="sig-param"><span class="pre">mediaSource:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'No</span> <span class="pre">Media</span> <span class="pre">Source'</span></em>, <em class="sig-param"><span class="pre">samples:</span> <span class="pre">List[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">totalActivity:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalChatMessages:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalUniqueUsers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgActivityPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgChatMessagesPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">overallAvgUniqueUsersPerSecond:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights:</span> <span class="pre">List[chat_analyzer.dataformat.Highlight]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">highlights_duration:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlights_duration_text:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">highlight_percentile:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">highlight_metric:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></em>, <em class="sig-param"><span class="pre">spikes:</span> <span class="pre">List[chat_analyzer.dataformat.Spike]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_overallUserChats:</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em>, <em class="sig-param"><span class="pre">_currentSample:</span> <span class="pre">Optional[chat_analyzer.dataformat.Sample]</span> <span class="pre">=</span> <span class="pre">None</span></em>, <em class="sig-param"><span class="pre">totalSuperchats:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em>, <em class="sig-param"><span class="pre">totalMemberships:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#chat_analyzer.dataformat.ChatAnalytics" title="chat_analyzer.dataformat.ChatAnalytics"><code class="xref py py-class docutils literal notranslate"><span class="pre">chat_analyzer.dataformat.ChatAnalytics</span></code></a></p>
<p>Extension of the ChatAnalytics class, meant to contain data that all chats have
and data specific to YouTube chats.</p>
<p>NOTE: Most youtube-specific attributes don’t make a lot of sense to continously report a per-second value,
so we don’t!</p>
<p>—</p>
<p>(See ChatAnalytics class for common fields and descriptions)</p>
<p><strong>[Defined w/ default and modified DURING analysis]</strong>:</p>
<dl class="simple">
<dt>totalSuperchats: int</dt><dd><p>The total number of superchats (regular/ticker) that appeared in the chat.
NOTE: A creator doesn’t necessarily care what form a superchat takes, so we just combine regular and ticker superchats</p>
</dd>
<dt>totalMemberships: int</dt><dd><p>The total number of memberships that appeared in the chat.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">process_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id1" title="Permalink to this definition"></a></dt>
<dd><p>Given a msg object from chat, update common fields and youtube-specific fields</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="example-json-output">
<h2>Example JSON output:<a class="headerlink" href="#example-json-output" title="Permalink to this headline"></a></h2>
<p>An output JSON file might look something like…
(<em>Note, only generic fields are shown. Platform-specific fields would be included in
their respective sections: the main analytics data in the main body of the JSON, and the
sample data within each sample.</em>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="mf">7386.016</span><span class="p">,</span>
    <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;description &quot;</span><span class="p">,</span>
    <span class="s2">&quot;program_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0b5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="s2">&quot;www.....com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;duration_text&quot;</span><span class="p">:</span> <span class="s2">&quot;2:03:06&quot;</span><span class="p">,</span>
    <span class="s2">&quot;interval_text&quot;</span><span class="p">:</span> <span class="s2">&quot;0:05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mediaTitle&quot;</span><span class="p">:</span> <span class="s2">&quot;The title of the VOD&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mediaSource&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;samples&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">&quot;sampleDuration&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">&quot;startTime_text&quot;</span><span class="p">:</span> <span class="s2">&quot;0:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endTime_text&quot;</span><span class="p">:</span> <span class="s2">&quot;0:05&quot;</span><span class="p">,</span>
        <span class="s2">&quot;activity&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;chatMessages&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="s2">&quot;firstTimeChatters&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="s2">&quot;uniqueUsers&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="s2">&quot;avgActivityPerSecond&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="s2">&quot;avgChatMessagesPerSecond&quot;</span><span class="p">:</span> <span class="mf">1.8</span><span class="p">,</span>
        <span class="s2">&quot;avgUniqueUsersPerSecond&quot;</span><span class="p">:</span> <span class="mf">1.8</span><span class="p">,</span>
        <span class="s2">&quot;_userChats&quot;</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;totalActivity&quot;</span><span class="p">:</span> <span class="mi">42547</span><span class="p">,</span>
    <span class="s2">&quot;totalChatMessages&quot;</span><span class="p">:</span> <span class="mi">42034</span><span class="p">,</span>
    <span class="s2">&quot;totalUniqueUsers&quot;</span><span class="p">:</span> <span class="mi">12533</span><span class="p">,</span>
    <span class="s2">&quot;overallAvgActivityPerSecond&quot;</span><span class="p">:</span> <span class="mf">5.760480345561126</span><span class="p">,</span>
    <span class="s2">&quot;overallAvgChatMessagesPerSecond&quot;</span><span class="p">:</span> <span class="mf">5.691024768968819</span><span class="p">,</span>
    <span class="s2">&quot;overallAvgUniqueUsersPerSecond&quot;</span><span class="p">:</span> <span class="mf">5.66955345060893</span><span class="p">,</span>
    <span class="s2">&quot;highlights&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
        <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="mi">4405</span><span class="p">,</span>
        <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="mi">4420</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;avgUniqueUsersPerSecond sustained at or above [8.6]&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;avgUniqueUsersPerSecond&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peak&quot;</span><span class="p">:</span> <span class="mf">11.2</span><span class="p">,</span>
        <span class="s2">&quot;avg&quot;</span><span class="p">:</span> <span class="mf">9.866666666666665</span><span class="p">,</span>
        <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="s2">&quot;duration_text&quot;</span><span class="p">:</span> <span class="s2">&quot;0:15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;startTime_text&quot;</span><span class="p">:</span> <span class="s2">&quot;1:13:25&quot;</span><span class="p">,</span>
        <span class="s2">&quot;endTime_text&quot;</span><span class="p">:</span> <span class="s2">&quot;1:13:40&quot;</span>
        <span class="p">},</span>
        <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;highlights_duration&quot;</span><span class="p">:</span> <span class="mi">540</span><span class="p">,</span>
    <span class="s2">&quot;highlights_duration_text&quot;</span><span class="p">:</span> <span class="s2">&quot;9:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;highlight_percentile&quot;</span><span class="p">:</span> <span class="mf">93.0</span><span class="p">,</span>
    <span class="s2">&quot;highlight_metric&quot;</span><span class="p">:</span> <span class="s2">&quot;usersPSec&quot;</span><span class="p">,</span>
    <span class="s2">&quot;spikes&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;_overallUserChats&quot;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s2">&quot;_currentSample&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cli.html" class="btn btn-neutral float-left" title="Command Line Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, David Fryd.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>